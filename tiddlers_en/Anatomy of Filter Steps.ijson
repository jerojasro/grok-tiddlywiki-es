{
  "title": _("Anatomy of Filter Steps"),
  "created": "20201230190557655",
  "description": "Filter steps have operators, suffixes, parameters, inputs, and outputs.",
  "modified": "20210409154639337",
  "parent": "Filtering and Formatting",
  "tags": "Section",
  "type": "text/vnd.tiddlywiki",
  "text": _("We saw a few examples of filter steps in the [[previous section|Using Filter Expressions]]. Let's take a closer look at the syntax.\n\n!! Operators, suffixes, and parameters\n\nFilter steps are composed of three parts, which take this basic form:\n\n```html\noperator:suffix[parameter]\n```\n\n* An ''operator'' describes the task the filter performs. TiddlyWiki supports a large number of operators, and some [[plugins|Plugins]] add additional operators.\n* A ''suffix'' further refines the meaning of the operator, often by listing a specific [[field|Fields]] that it applies to. Only some operators accept a suffix at all, and it is usually optional even when it is accepted.\n* A ''parameter'' describes what the operator should try to find or do. For instance, with the `tag` operator, the parameter indicates which tag you want to match.\n\nThe exact meaning of the suffix and parameter depends on which operator is being used.\n\nAs briefly mentioned in the previous section, you can place a `!` (pronounced //not// or //bang//) before the operator. Typically, this negates its meaning, so that whatever tiddlers it would have allowed to pass it now filters out, and vice versa. With a few operators, it does something different and operator-specific.\n\nPutting this together, a simple filter step we saw in the [[previous section|Using Filter Expressions]] was `tag[Contact]`. In this step, `tag` is the operator and `Contact` is the parameter. Most commonly, the parameter goes in square brackets, but we'll learn in [[chapter 4|Variables, Macros, and Transclusions]] that it can also be placed in `<angle brackets>` or `{curly braces}` for different effects.\n\nThe `tag` operator has an optional suffix `strict` (don't worry about what it does for now). If we used it, our filter step would look like `tag:strict[Contact]`.\n\n!! Inputs and outputs\n\nWe can also talk about the ''inputs'' or ''input tiddlers'' and ''outputs'' or ''output tiddlers'' of a filter step. Unlike operators, suffixes, or parameters, these do not correspond to text in the filter expression; rather, they are the data that moves through the pipeline from left to right when TiddlyWiki evaluates the filter.\n\n''Input tiddlers'' are the tiddlers that come down the pipeline from the left side of the operator.\n\n* If the filter run is `[tag[Person]]`, all tiddlers in the wiki are input tiddlers to `tag[Person]`. Unless you use one of a special set of filter operators called ''constructors'' as the first step in a run, {{Ltc:AllTiddlersInTheLeft||LieToChildrenTemplate}} are the inputs to the leftmost step. Constructors ignore any input they receive and generate an entirely new set of output tiddlers based only on their suffix and parameters (i.e., they construct a list), so if TiddlyWiki sees one as the first step of a run, it saves itself some effort by not passing the constructor any input at all.\n* If the filter run is `[title[JaneDoe]tag[Person]]`, the sole input tiddler to `tag[Person]` is `JaneDoe`. (`title` is a constructor.)\n* If the filter run is `[tag[Application]tag[Person]]`, the input tiddlers to `tag[Person]` are all the tiddlers in the wiki tagged with `Application`.\n\n''Output tiddlers'', similarly, are the tiddlers that get passed off to the next step in the run (or become the result of the entire filter run, if this is the last step). In the `[tag[Application]tag[Person]]` example above, the outputs of `tag[Application]` are all the tiddlers in the wiki tagged with `Application`. Or to put it another way, the outputs of `tag[Application]` are the inputs to `tag[Person]`.\n\n\n!! Multiple suffixes and parameters\n\nThese are uncommon, but for the sake of completeness:\n\n* A few operators support ''multiple suffixes'', each introduced by a colon, like `search:myfield:literal[parameter]`.\n* A few operators support ''multiple parameters'', separated by a comma, like `pad[5],[-]`.\n\n!! Exercises\n\n{{Ex:ConstructorAfterFilterStep||ExerciseTemplate}}\n{{Ex:NonexistentTiddlerFilter||ExerciseTemplate}}\n{{Ex:MeaninglessSuffix||ExerciseTemplate}}\n\n!! Takeaways\n\n{{||TakeawaysTemplate}}")
}