{
  "title": "Ex:TelephoneLink/answer",
  "created": "20210131040820380",
  "modified": "20210818142017227",
  "tags": "Answer",
  "type": "text/vnd.tiddlywiki",
  "text": "By now, having read all about [[Text Substitution]], you should be aware that this won't work:\n\n```html\n[ext[Call {{!!title}}|tel:{{!!phone}}]]\n```\n\nBut you might be tempted to try using an HTML element, like this:\n\n```html\n<a href=\"tel:{{!!phone}}\">Call {{!!title}}</a>\n```\n\nIt might be helpful to review exactly why this doesn't work, as it's something most TiddlyWiki beginners have found themselves trying to do at one point or another. It's actually the same thing we saw in [[Ex:QuotedMacroCall]], back in [[The Finer Points of Macros]]. If you put any attribute value in \"quotation marks\", it is //literal//: TiddlyWiki won't do any further wikitext parsing on it. Instead of a literal value for an attribute, you can instead use a `<<macro transclusion>>`, a `{{field transclusion}}`, or a `{{{filtered transclusion}}}`.\n\nIf you want to include both a literal part //and// a field or macro transclusion, squashed together (the technical term for this is //string concatenation//), you need to use either a macro with text substitution or a filter. Here's the macro version:\n\n```html\n\\define phonelink() [ext[Call $(currentTiddler)$|$(phonenum)$]]\n<$set name=\"phonenum\" value={{!!phone}}>\n\t<<phonelink>>\n</$set>\n```\n\nOr with an `a` element:\n\n```html\n\\define phonelink() tel:$(phonenum)$\n<$set name=\"phonenum\" value={{!!phone}}>\n\t<a href=<<phonelink>>>Call {{!!title}}</a>\n</$set>\n```\n\nThe filter version is left as the next exercise.\n\nYou can find a more detailed treatment of this issue in the [[Common Misunderstandings]] chapter: [[Constant strings cannot be combined with transclusions]]."
}